**1.	데이터**
   
**데이터셋**


  수원시 소재의 아파트 단지 303개 가구에서 수집한 전력 데이터를 사용하였다. 데이터는 측정된 년, 월, 일, 시, 분과 가구 별 전력 누적 소비량을 포함한다. 측정된 기간은 22년 10월 1일부터 23년 3월 28일까지이다. 예측에 사용될 시간당 전력 소비량 데이터를 생성하기 위해 00분 ~ 59분 내 데이터 중 가장 큰 누적 소비량 데이터를 생성하였고 1시간 누적 소비량 데이터 간 차를 이용해 시간 당 전력 소비량 데이터를 생성하였다. 데이터 분석 결과, 303개의 가구에서 동일한 구간에서 결측치가 발생하는 것을 알 수 있었고 해당 기간을 삭제하여 그림 1과 같이 데이터셋 사용 구간 그룹을 생성하였다. 그 이외의 결측치에 대해서 3차 다항식 보간을 하였다. 윈도우를 72 만큼씩 이동시키면서 과거 데이터 72, 예측데이터 각 1, 12, 24 크기의 훈련 및 테스트 데이터 셋을 생성하였다. 예측에는 수원시 기온을 포함하여 총 두 개의 feature(Temp, usage)가 사용되었다. 

**클러스터링**


  가구 별 클러스터링을 위해 DTW(Dynamic Time Warping)를 사용하였다. DTW(Dynamic Time Warping)는 시계열 데이터 간의 유사성을 비교하기 위한 알고리즘이다. Euclidean distance와 달리 시계열 데이터 간의 길이나 속도가 달라도 이것을 고려하여 유사성을 측정할 수 있다는 장점을 가진다


**2. 모델 구성**


  병렬 연결된 CNN_LSTM 모델을 사용하였다. 사용한 다변량 시계열 데이터의 시간 정보는 CNN을 통해 공간정보로 학습할 수 있으며, LSTM 레이어를 통해 시간적 특징을 추출 및 학습할 수 있다[1]. 병렬 연결함으로써 데이터의 시공간적 특징을 직접 추출할 수 있다. 사용된 모델은 구조는 다음과 같다. 먼저 2개의 feature로 구성된 전력 시계열 데이터를 3차원 다 변량 입력 배열로 변환하여 모델에 입력한다. 그런 다음 데이터는 CNN 및 LSTM 레이어에 입력되어 별도로 훈련한다. CNN과 LSTM은 각각 세개의 레이어로 구성되어 있다. 그런 다음 CNN과 LSTM의 각 출력이 연결되어 세 개의 완전 연결 레이어를 통해 전력 사용량 예측 결과를 도출한다. 그림 2은 모델 구성을 가시화한 것이다. 

**3. 예측 결과**

   Dtw 클러스터링 한 결과로 예측하고자 하는 가구와 가장 다른 패턴을 보이는 10개 가구로 전력 소비량 예측 모델(CNN-LSTM model (1))과 예측하고자 하는 가구와 가장 유사한 패턴을 보이는 10개 가구로 전력 소비량 예측 모델(CNN-LSTM model (2))을 비교하였다. 모델 훈련은 과거 72시간으로 이후 1, 12, 24시간으로 예측 시간을 달리하여 실험하였다. 표1, 2, 3은 각각 예측 시간을 1, 12, 24로 실험하였을 때의 오차이다. 각 실험에서 모두 유사한 사용량 패턴을 가진 가구들로 학습하였을 때에 더 작은 오차를 보였다.
